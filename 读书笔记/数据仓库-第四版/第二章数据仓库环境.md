# 第二章 数据仓库环境

数据仓库是体系结构化环境的核心，是决策支持系统(DSS)处理的基础。本章将介绍数据仓库的一些非常重要的特性。数据仓库是一个

- 面向主题的（Subject Oriented） 
- 集成的（Integrated） 
- 非易失的（Non-Volatile） 
- 随时间变化的（Time Variant） 

用来支持管理人员决策的数据集合。

**面向主题**

主题（Subject）是在较高层次上将企业信息系统中的数据进行综合、归类和分析利用的一个抽象概念，每一个主题基本对应一个宏观的分析领域。 面向主题的数据组织方式，就是在较高层次上对分析对象数据的一个完整并且一致的描述，能刻画各个分析对象所涉及的企业各项数据，以及数据之间的联系。 典型的主题有：

- 顾客
- 产品
- 交易或者活动
- 政策
- 索赔
- 帐目

![](img/2-1.jpg)

**集成**

集成是在数据仓库的所有特性之中，最重要的一种。 数据仓库中的数据是从多个不同的数据源抽取过来的。应用设计人员多年来做出的各种设计决策有很多种不同的表示方法。他们在建立一个应用时，从来不会考虑他们正在操作的数据在将来的某天会进入数据仓库，并与其他应用的数据进行集成。这样的后果是多个应用之间在编码、命名习惯、物理属性、属性度量单位等方面不存在任何一致性。 当数据进入数据仓库时，要采用某种方法来消除应用层的许多不一致性。 数据仓库中的编码是何表现形式并不重要，重要的是编码的一致性，如果不一致，就需要进行转换。

![](img/2-2.jpg)

**非易失性**

下图说明了数据的非易失性和对操作型数据的访问和处理，一般是按一次一条记录的方式进行。

![](img/2-3.jpg)

操作型环境中的数据一般是周期性的更新或者实时性的更新。数据仓库中的数据呈现出一组非常不同的特性。数据仓库的数据通常以批量方式载入与访问。数据仓库环境中并不进行数据的更新。数据仓库中的数据在进行装载时是以静态快照的格式进行的。当产生后继变化时，一个新的快照记录就会写入数据仓库。这样，在数据仓库中就保持了数据的历史状况。

**随时间变化**

数据仓库的最后一个显著特性是随时间变化。时变性的意思是数据仓库中每个数据单元是在某一时间是准确的。在一些情况下，记录中有时间戳，而另外一些情况下则记录一个事务的时间。总之，在多数情况下，记录都包含某种形式的时间标志用以说明数据在那一时间是准确的。

![](img/2-4.jpg)

操作型数据含有当前值，这些数据的准备性在访问时是有效的，其随着业务系统的变化而更新。数据仓库中的数据仅仅是一系列在某时刻生成的复杂快照。这一些列快照使数据仓库保留了活动和事件的历史记录，操作类型数据的关键字结构可能包含也可能不包含时间元素，如年、月、日等，而数据仓库的关键字结构总是包含时间元素。

## 2.1 数据仓库结构

数据仓库环境中存在着不同的细节级：早期细节级(通常是存储在备用的海量存储器上)、当前细节级、轻度总和数据级(数据集市级)以及高度总和数据级。数据由操作型环境导入数据仓库，很多数据转换发生在操作层向数据仓库层传输过程中。

![](img/2-5.jpg)